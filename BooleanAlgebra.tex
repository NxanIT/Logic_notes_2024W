\chapter{Boolean Algebra}
From \cite{krivine1998th√©orie}?
\section{Definition of a boolean algebra}
Our language in this chapter will be $\mathcal{L} = \{0,1,+,\cdot,\overline{\phantom{x}}\}$, where $+,\cdot$ are binary operations and $\overline{\phantom{x}}$ is a unary operation.
 
The axioms for boolean algebras are 
\begin{enumerate}
    \item (Associativity of $+,\cdot$) $\forall x,y,z \bigl(x+(y+z) = (x+y)+z \land x\cdot (y\cdot z) = (x \cdot y ) \cdot z\bigr)$
    \item (Commutativity of $+,\cdot$) $\forall x,y \bigl(x+y=y+x \land x\cdot y = y\cdot x\bigr)$
    \item (Idempotence) $\forall x \bigl(x+x = x \land x\cdot x = x\bigr)$
    \item (Distributivity) $+,\cdot$: $\forall x,y,z \bigl(x\cdot (y+z) = x\cdot y + x\cdot z \land x+(y\cdot z)\bigr) = $TODO
    \item (Absorbtion) $\forall x,y \bigl(x\cdot (x\cdot y) = x \cdot y \land x\cdot (x+y) = x\bigr)$
    \item (De Morgan's Laws) $\forall x,y \bigl(\overline{x+y} = \overline{x}\cdot \overline{y}\land \overline{x\cdot y} = \overline{x}+ \overline{y}\bigr)$
    \item (Laws of $0,1$ and $\overline{\phantom{x}}$) $$\begin{aligned}
        \forall x \bigl(&\quad x+0 = x \quad\land\quad x\cdot 0 = 0 \quad\land\quad x+1 = 1\quad\land\quad x\cdot 1 = x \\
        &\land\quad x + \overline{x} = 1 \quad\land\quad x\cdot \overline{x} = 0 \quad\land\quad \overline{\overline{ x}} = x\quad\bigr)
    \end{aligned}$$
\end{enumerate}
\defin{Boolean Algebra}{The theory of boolean algebras is the deductive closure of (1)-(7) above.}
\note{}{Every boolean algebra $\mathcal{B}$ can be partially ordered by 
$$x\leq y \quad\iif\quad x+y = y$$ 
It is easy to see that $\leq$ is reflexive, antisymmetric and transitive. In this ordering the smallest set is $0$ and the largest one is $1$.
In this notion the supremum and infimum of two elements are equal to
\[\sup\{x,y\} = x+y, \quad \inf\{x,y\} = x\cdot y\quad\text{(Exercise)}\] 
}
\defin{Alternative Def: Boolean Algebra}{%from last year
    A \graybf{boolean algebra} is a set $B$ with
    \begin{itemize}
        \item distinguished elements $0,1$ (called zero and unit of $B$)
        \item a unary operation $'$ on $B$ (called \graybf{complementation})
        \item two binary operations $\lor$ called \graybf{join} and $\land$ called \graybf{meet} s.t. for all $x,y,z \in B$ 
        \begin{enumerate}
            \item $x\lor 0 = x$ \qquad  $x\land 1 = x$
            \item $x\lor x' = 1$ \qquad   $x\land x' = 0$
            \item $x \lor y = y \lor x$ \qquad   $x\land y = y\land x$
            \item $(x\lor y)\lor z = x\lor (y\lor z)$ \qquad   $(x\land y)\land z = x\land (y\land z)$
            \item $x\lor (y\land z) = (x\lor y)\land (x\lor z)$\qquad    $x\land (y\lor z) = (x\land y)\lor (x\land z)$
        \end{enumerate}
    \end{itemize}
}
\bsp{}{Let $X\neq \varnothing$ be a set, $B \defeq \mathcal{P}(X)$ the power set of $X$, $0\defeq \varnothing$ and $1\defeq S$, 
    $$': \mathcal{P}(S)\to \mathcal{P}(S), x' \defeq S\backslash x \qquad x\lor y \defeq x\cup y, \quad x\land y \defeq x\cap y \text{ for } x,y\in \mathcal{P}(S)$$
}
\bsp{}{$X\neq \varnothing$ and $S\subseteq \mathcal{P}(X)$ such that 
    \begin{itemize}
        \item $\varnothing\in S$
        \item $X\in S$ 
        \item $S$ is closed under (finite) intersections and unions and complements.
    \end{itemize}
    Then $(S; \varnothing,X,\cup,\cap,\overline{\:})$ is called a boolean algebra of sets and $\leq$ corresponds to $\subseteq$.
}
\note{}{Conversly, every boolean algebra is isom. to a boolean algebra of sets. (it can be embedded in )}
\section{Stone Representation Theorem}
\defin{}{Suppose $\mathcal{B}\models BA$ A non-empty $F\subseteq B$ is called a filter of $\mathcal{B}$ if
\begin{itemize}
    \item $0\notin F$
    \item $\forall a \forall b a\in F \land b\in F \to a\cdot b\in F$
    \item $\forall a \forall b a\in F \land a \leq b \to b\in F$
\end{itemize}
Ultrafilter of $\mathcal{B}$ is a filter $\mathcal{F}$ such that $\forall a\in B a\in \mathcal{F} \lor \overline{a}\in \mathcal{F}$
$S(B) \defeq$ the set of all ultrafilters of $\mathcal{B}$ (stonespace of $\mathcal{B}$)
}
\note{}{
    $\mathcal{B}\models BA$ then for a filter $F$.
    \begin{enumerate}
        \item $1\in F$
        \item $F\subseteq B$ satisfying  TODO
        \item $<a>= \{x\in S(B): a\in x\}$ where $a$ runs through $B$ forms a basis for a topology on the stonespace of $\mathcal{B}$
    \end{enumerate}
    Recall:
    $(X,\tau), \tau \subseteq \mathcal{P}(X)$ is called a topological space, if 
    \begin{enumerate}
        \item[T1] $\varnothing, X\in \tau$
        \item[T2] $\forall I \forall (\sigma_i)_i\in \tau^I: \bigcup_{i\in I}(\sigma_i)\in \tau$
        \item[T3] $\forall n\in \NN \forall (\sigma_i)_i\in \tau^\{1,\dots n\}: \bigcup_{1\leq i\leq n}(\sigma_i)\in \tau$
    \end{enumerate}
    And $\tau'\subseteq \mathcal{P}(X)$ is a base for the topology $\tau$ on $X$,
     if every open set in $\tau$ is the union of sets in $\tau'$.
    Back on $<a>= \{x\in S(B): a\in x\}$:
    \begin{itemize}
        \item $\varnothing = <0>$, $S(B) = <1>$, $<a>\cap <b> = <a\cdot b>$
    \end{itemize}
    Every filter on $B$ can be extended to an ultrafilter on $\mathcal{B}$ (Zorn's Lemma).

    In fact, suppose $\mathcal{F}\subseteq B$ has FIP. i.e. for any $n\in\NN$ $\forall f_1,\dots f_n\in \mathcal{F}$ it is $f_1\cdot \dots \cdot f_n \neq 0$.
    (Exercise)
}
\defin{Stone space}{
    A stone space is a non-empty topological space which 
    \begin{enumerate}
        \item has a basis of clopen sets
        \item is compact (every open cover contains a finite subcover)
        \item and hausdorff (every two distinct points can be seperated by open sets) 
        \[\forall x \forall y x\neq y \to \exists \sigma_x\exists \sigma_y x\in \sigma_x \land y\in \sigma_y\land \sigma_x\cap \sigma_y= \varnothing\]
    \end{enumerate}
}
\thm{Stone Representation Theorem}{
    \begin{enumerate}
        \item $\mathcal{B}\models BA$ then $S(B)$ is a Stone-space
        \item If $S$ is a Stone space then the clopen subsets of $S$ form a boolean algebra denoted by $\mathcal{B}(S)$.
        \item Every boolean algebra $\mathcal{B}$ is isomorphic to the boolean algebra $\mathcal{B}(S(B))$ with $a\mapsto \langle a\rangle$. Hence $\mathcal{B}$ is isomorphic to a subalgebra of boolean algebra $P(S(B))$
        \item Every stonespace $S$ is homeomorphic to the stonespace $S(\mathcal{B}(S))$
        $$x\mapsto \{a\in S(B) : x\in a\}$$
    \end{enumerate}
}{
    \begin{enumerate}
        \item We have the base for a topology $\langle a\rangle= \{x\in S(B): a\in x\}$. 
        $\langle a\rangle$ is clopen : It is clearly open.
        $$\langle a\rangle^c = \overline{\langle a\rangle} = \{x\in S(B): a\notin x\}=\{x\in S(B): \overline{a}\in x\}=  \langle \overline{a}\rangle$$
        hausdorff: 
        Let $x,y\in S(B)$ such that $x\neq y$.
        then $\exists a\in B a\in x\land \overline{a}\in y$ 

        then $x\in \langle a\rangle, y\in \langle \overline{a}\rangle$.

        compact:
        Fact $X$ is topological space then $T_{\text{FAE}}$ 

        Every open cover of $X$ contains a finite subcover if 
        any family of closed sets which has FIP, has non-empty intersection.

        Supposed $(F_i)_{i\in I}$ a family of closed subsets of $S(B)$ such that $I\neq  \varnothing$ and $\bigcap_{i\in I}F_i = \varnothing$. we want to show that there is a finite intersection 
        $\exists i_1, \dots i_k\in I \bigcap_{1\leq m\leq k}F_{i_m}$

        WMA that $F_i = \langle a_i \rangle$ for some $a_i\in B$.
        Assume $\bigcap_{i\in I}\langle a_i\rangle = \varnothing$.
       
        If $a_i\cdot \dots \cdot_{i_k} \neq 0$ For all $\{i_1,\dots i_k\}\subseteq I$ Then $\{a_i : i\in I\}\subseteq B$ has FIP, so it extends to an ultrafilter on $\mathcal{B}$ (using Zorns lemma).
        \begin{multicols}{2}
            $X$ set, a filter / ultrafilter on $X$ is some $\mathcal{F}\subseteq \mathcal{P}(X)$ s.th.
            If $\mathcal{F}$ has FIP then $\mathcal{F}$ extends to UF
        
            $\mathcal{B}$ boolean algebra, then a filter / ultrafilter of $\mathcal{B}$ is a subset $\mathcal{F}\subseteq B$ s.th.
            If $\mathcal{F}\subseteq B$ has FIP, then $\mathcal{F}$ extends to UF $\mathcal{U}$ of $\mathcal{B}$
            i.e. $\forall i\in I a_i\in \mathcal{U}$ so $\mathcal{U}\in \bigcap_{i\in I}F_i $ but we assumed $\bigcap_{i\in I}\langle a_i\rangle = \varnothing$
        \end{multicols}
        So there exists some $i_1\dots i_k$ such that $\bigcap_{1\leq j\leq k}\langle a_{i_j}\rangle =\varnothing$
    \end{enumerate}
}
\defin{Atomic, Atomless}{An atom is an element of a boolean algebra such that $a\neq 0$ and there is no element in the boolean algebra that is strictly inbetween $0$ and $a$.
\[\forall y (0\leq y\leq a\to (y=0\lor y=a))\]
A boolean algebra $\mathcal{B}$ is called atomic, if 
\[\forall a (a\neq 0 \to \exists y (y\leq a \land y \text{ is atomic}))\]
A boolean algebra is atomless if it contains no atoms
}
\note{}{There exists boolean algebras that are neither atomic nor atomless.}
\note{}{Axioms for atomic boolean algebras: add
    \[\forall a (a\neq 0 \to \exists y (y\leq x \land y\neq 0 \land \forall z(0\leq z\leq y\to (z=0\lor z=y))))\]

    Axioms for atomless: add
    \[\forall y y\neq 0 \to \exists z (0<z<y)\]
}


\section{Lindenbaum-Tarski Algebras}
Let $\mathcal{L}$ be a first order Language, $\mathcal{L}_0$ the set of all $\mathcal{L}$-sentences and $\sim$ the logical equivalence relation.
On the quotient set $\mathcal{L}_0/_\sim$ we can define $\land,\lor,\lnot$ py passing to representatives. This is well defined and does not depend on the choice of representatives.

\defin{Lindenbaum-Tarski algebra}{With the above notation
    $$B_L = (\mathcal{L}_0/_\sim;\bot/_\sim,\top/_\sim,\lor,\land,\lnot)$$ forms then a boolean algebra.
(it is called Lindenbaum-Tarski algebra for $\mathcal{L}$)

Note that $\bot$ is logically equivalent to $\exists x x\neq x$
and $\top$ is logically equivalent to $\forall x x=x$

The construction can be extended to equivalence modulo some $\mathcal{L}$-theory $T$ (or $T\subseteq \mathcal{L}_0$)
$\underline{x} = (x_1,\dots x_n)$
For $\varphi,\psi\in \mathcal{L}_{\underline{x}}$, where $\mathcal{L}_{\underline{x}}$ are the $\mathcal{L}$-formulas with free variables among $\underline{x}$

Define $\varphi\leq_T\psi$ iff $T\models \forall \underline{x} (\varphi\to \psi)$

We can define $T$-equivalence: $\varphi \sim_T \psi$ iff $\varphi\leq_T \psi$ and $\psi\leq_T \varphi$

$$\mathcal{B}_n = ({\mathcal{L}_{\underline{x}}}/_{\sim_T}; \bot/_{\sim_T},\top/_{\sim_T},\land,\lor,\lnot)$$
Is then again a boolean algebra, whose isomorphism type depends only on $T$ and it is called the $n$-th Lindenbaum-Tarski-algebra of $T$.
In the case we take the $0$-th L-T algebra of $\varnothing$ $B_L= B_0(\varnothing^{\models0})$

}

\defin{Recap}{
    \begin{itemize}
        \item The deductive closure of a set of sentences $\Sigma$ is $\{\varphi : \sigma \models \varphi\}$
        \item A contradiction is any sentence of the form $\varphi \land \lnot \varphi$
        \item A set of sentences is consistent, if its deductive closure does not contain a contradiction.
        \item A $\mathcal{L}$-theory is a set of sentences that is consistent and deductively closed.
    \end{itemize}
}
The question we know ask ourselves is: what is the stone space of a Lindenbaum-Tarski algebra?
\note{}{
    \begin{itemize}
        \item $\mathcal{L}$-theories are indeed exactly the filters of $\mathcal{B}_L$
        \item complete $\mathcal{L}$-theories are exactly the ultrafilters of $\mathcal{B}_L$
    \end{itemize}
}
Let $S_L$ equal the set of all complete $\mathcal{L}$-theories then our compactness theorem

\[\Gamma \models \varphi \implies \exists \Gamma'\subseteq \Gamma \text{ finite } \Gamma\models \varphi\]
is equivalent to 
\thm{Compactness Theorem *}{
    $S_L$ with stone topology is compact.
}{}
Two things we would like to show:
\begin{itemize}
    \item Compactness theorem $\implies$ Compactness theorem *\\
    By showing that $S_L=S(B_\mathcal{L})$
    \begin{claimproof}
        \begin{itemize}
            \item[$\subseteq$] Let $T$ be complete $\mathcal{L}$-Theory. by consistency and abuse of notation $0\notin T$. and $T$ is closed under conjunction.
            So for all $\varphi,\psi\in T$ we have $\varphi\land\psi\in T$.
            $\varphi\in T$ and $\varphi\leq \psi$ then $\models \varphi\to \psi$ so $\varphi\models \psi$ and $\psi\in T$ bc. $T$ is deductively closed.
            \item[$\supseteq$] Let $x\in S(\mathcal{B}_\mathcal{L})$ 
            completeness: By maximality of $x$, $\forall \varphi$ either $\varphi/_\sim \in x$ or $\lnot \varphi/_\sim\in x$.

            deductively cloesdness: $x\models \gamma$ then by compactness Theorem $\exists x'\subseteq x x'\models \gamma$ and $x'\in x$, so by if $x'\in x$ and $x'\leq \gamma$, then $\gamma\in x$ hence deductive closure

            consistency: $0\notin x$ and $x$ is deductively closed.
        \end{itemize}
    \end{claimproof}
    \item Compactness theorem * $\implies$ compactness theorem
    $\Gamma = \{\gamma_i : i\in I\}$ set of $\mathcal{L}$-sentences.
    We want: $\Gamma\models \varphi$ then $\exists \Gamma'\subseteq \Gamma \text{ finite } \Gamma'\models \varphi$

    \begin{claimproof}
        Suppose, by contradiction that it is not the case.

        $\forall I'\stackrel{\text{ fin }}{\subseteq} I \{\gamma_i : i\in I'\}\cup \{\lnot \varphi\}$ is consistent.

        \[\implies \forall I'\stackrel{\text{ fin }}{\subseteq} I \bigcap_{i\in I'} \langle\varphi_i\rangle\cap \langle\lnot \varphi\rangle \neq \varnothing\]

        \[\{\langle\varphi_i\rangle : i\in I\}\cup \{ \langle\lnot \varphi\rangle \}\]
        is a collection of closed sets with FIP.
        By using compactness of $S_L$ with stone topology,
        \[\bigcap_{i\in I} \langle\varphi_i\rangle\cap \langle\lnot \varphi\rangle \neq \varnothing\]
        hence $\Gamma \not\models \varphi$.
    \end{claimproof}

\end{itemize}




\subsection*{From here on are the lecture notes of last year}
As they are in a diffrent notation than this year I will rephrase them after we have discussed them in the lecture.
%from here are the lecture notes of last year
\lemma{}{ Let $(B,',\lor,\land,0,1)$ be a boolean algebra. Then it holds
    \begin{enumerate}[label=\alph*)]
        \item $0' = 1$, $1' = 0$
        \item $x\lor x = x$, $x\land x = x$
        \item $(x')'= x$
        \item $(x\lor y)' = x' \land y'$, $(x\land y)' = x' \lor y'$
        \item $x\lor y = y \text{ iff } x\land y = x$
    \end{enumerate}
}{}
\lemma{}{
    \begin{enumerate}[label=\alph*)]
        \item $x\leq y \defaq x\lor y = y$ defines a partial ordering on $B$ (inclusion) and it holds
        \item $x\lor y$ is the least upper bound of $\{x,y\}$ in $B$\\
            $x\land y$ is the greatest lower bound of  $\{x,y\}$ in $B$
        \item $0\leq x\leq 1$ for all $x\in B$
    \end{enumerate}
}{}
\note{}{A boolean algebra is a complemented distributive lattice.}
\defin{Opposite of boolean algebra}{Let $(B,',\lor,\land,0,1)$ be a boolean algebra. The boolean algebra $B^{\text{op}}$ is defined by
    $$B^\text{op}\defeq B,\quad 0^\text{op} \defeq 1,\quad 1^\text{op} \defeq 0,\quad' \text{ stayes the same as for} B,\quad\lor^\text{op} \defeq \land,\quad\land^\text{op} \defeq \lor$$
    Note: $(B^\text{op})^\text{op} = B$
}
\defin{Subalgebra}{A \graybf{subalgebra} of $B$ is a subset $A\subseteq B$ s.t. $0,1\in A$ and $A$ is closed under $',\land,\lor$.
    The subalgebra generated by $P\subseteq B$ is defined to be the smallest subalgebra containing $P$. Equivalently it is the 
    intersection of all Subalgebras of $B$ that contain $P$.
}
\bsp{Power set algebra}{Let $S$ be a set then $\mathcal{P}(S)$ defines a boolean algebra on $S$.
    $B \defeq \{x\in \mathcal{P}(S): x \text{is finite or cofinite}\}$ is a subalgebra of $\mathcal{P}(S)$
    w/ set of generators $\{\{s\}:s\in S\}$}
\note{}{We will prove the Tarski-Stone Theorem: every boolean algebra is isomorphic to an algebra on a set.}

\bsp{Lindenbaum Algebra of $\Sigma$}{
    Let $A$ be a set of prop. atoms, $\propM(A)$ the set of prop. generated by $A$.
    Further let $\Sigma \subseteq \propM(A)$ and $p,q,r$ range over $\propM(A)$.\\
    We say $p$ is $\Sigma$-equivalent to $q$ iff $\Sigma \models_\text{taut} p\leftrightarrow q$
    $\Sigma$-Equivalence is an equivalent relation on $\propM(A)$ and $\propM(A)/\Sigma$ is a boolean algebra with
    $$0\defeq \bot/\Sigma,\quad1\defeq \top/\Sigma,\quad(p/\Sigma)' \defeq (\lnot p)/ \Sigma,\quad(p/\Sigma \lor q/ \Sigma)\defeq (p\lor q)/ \Sigma,\quad(p/\Sigma \land q/ \Sigma)\defeq (p\land q)/ \Sigma$$
    a set of generators is $\{a/\Sigma : a\in A\}$
}
\defin{Homomorphisms of boolean algebras}{Let $B,C$ be boolean algebras. A map $\phi: B\to C$ is a (homo)morphism of boolean algebras iff
    $\forall x,y\in B$ it holds
    \begin{itemize}
        \item $\phi(0_B) = 0_C$
        \item $\phi(x') = \phi(x)'$
        \item $\phi(x\lor y) = \phi(x)\lor \phi(y)$
        \item $\phi(x\land y) = \phi(x)\land \phi(y)$
    \end{itemize}
    If $\phi:B\to C$ is bijective too , we call $\phi$ an isomorphism and $\phi^{-1}:C\to B$ is also a morphism of boolean algebras.
}
\note{}{$\phi(B)$ is subalgebra of $C$}
\bsp{}{Let $S,T$ be sets then a function $f:S\to T$ induces a morphism of boolean algebras $\mathcal{P}(T)\to \mathcal{P}(S): y\mapsto f^{-1}(y)$
If $S\subseteq T$ and $f$ the inclusion map $S\hookrightarrow T$ then we get a boolean algebra morphism $Y\to Y\cap S$.\\
    \begin{itemize*}
        \item $id_B: B\to B$ \qquad 
        \item $x\mapsto x': B\to B^{\text{op}}$ are both isomorphism
    \end{itemize*}
}
\note{}{A boolean algebra morphism $\phi: B\to C$ is injective iff $\ker f = 0_B$}
\lemma{}{\label{boolLemma}
    Let $X_1,\dots X_m\subseteq S$ and $\mathcal{A}$ a boolean algebra on $S$ generated by $\{X_1,\dots X_m\}$. Then $\mathcal{A}$ 
    is finite and isomorphic to $\mathcal{P}(\{1,2,\dots n\})$ for some $n\leq 2^m$.
}{
    TODO
}
\defin{Trivial algebras}{\begin{itemize}
    \item $B$ is trivial if $|B| = 1$ (equivalently $0=1\in B$) 
    according to \ref{boolLemma} $B$ is isomorphic to $\mathcal{P}(\varnothing)$
    \item If $|S|=1$ then $|\mathcal{P}(S)| = 2$ 
    TODO
\end{itemize}}
\defin{Ideal}{An ideal of $B$ is a subset of $I\subseteq B$ s.t.
    \begin{itemize}
        \item[(I1)] $0\in I$
        \item[(I2)] $\forall a,b \in B$ it holds \qquad 
            $a\leq b$ and $b \in I\implies a\in I$\qquad and \qquad $a,b\in I\implies a\lor b\in I$ 
    \end{itemize}
}
\bsp{}{$F_{\text{in}} = \{F\subseteq S: F \text{ finite}\}$
    is ideal in $\mathcal{P}(S)$.
}
\note{}{If $I$ is an ideal of $B$ then 
    $I\lor b \defeq \{x\in B: x = a\lor b \text{ for some } a \in I\}$ is the smallest ideal w/ respect of $\subseteq$ of $B$ that contains $I\cup \{b\}$.
}
\bsp{}{\begin{itemize}
\item For a boolean algebra morphism $\phi: B\to C$ the kernel $\ker(\phi)$ is an ideal in $B$.
\item If $I$ is an ideal in $B$ then $a =_I b \defaq a\lor x = b\lor x$ for some $x\in I$ defines an equivalent relation and
$B/_{=_I}$ is a boolean algebra w/ 
$$0\defeq 0/_{=_I}\quad 1\defeq 1/_{=_I}\quad (a/_{=_I})' \defeq a'/_{=_I}\quad a/_{=_I}\lor b/_{=_I} \defeq (a\lor b)/_{=_I}\quad a/_{=_I}\land b/_{=_I} \defeq (a\land b)/_{=_I}$$
Then $\phi: B\to B/_{=_I}: b\mapsto b/_{=_I}$ is a boolean algebra morphism w/ $\ker(\phi)=I$
\end{itemize}}
























